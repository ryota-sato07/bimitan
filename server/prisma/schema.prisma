generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// スキーマ定義
model GeoAddress {
  jisCode          Int      @id @map("jis_code")
  postCode         String   @map("post_code")
  prefectureKana   String?  @map("prefecture_kana")
  cityKana         String?  @map("city_kana")
  townKana         String?  @map("town_kana")
  prefectureName   String?  @map("prefecture_name")
  cityName         String?  @map("city_name")
  townName         String?  @map("town_name")
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  @@index([postCode], name: "idx_address_post_code")
}

model User {
  id          Int      @id @default(autoincrement()) @map("id")
  name        String?  @map("name")
  email       String   @unique @map("email")
  password    String   @map("password")
  description String?  @map("description")
  lockedAt    DateTime? @map("locked_at")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  @@unique([id], name: "idx_user_id")
}

model UserLoginHistory {
  id         Int      @id @default(autoincrement()) @map("id")
  userId     Int      @map("user_id")
  loginAt    DateTime @map("login_at")
  hostName   String?  @map("host_name")
  userAgent  String?  @map("user_agent")
  status     Int      @map("status")
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt @map("updated_at")

  @@index([userId, loginAt], name: "idx_login_history_user_id")
}

model UserSession {
  token      String   @id @map("token")
  userId     Int      @map("user_id")
  expires    Int      @map("expires")
  data       String?  @map("data")
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt @map("updated_at")

  @@index([userId], name: "user_id")
}
